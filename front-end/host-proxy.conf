<VirtualHost *:80>
    ServerAdmin hickar@icloud.com
    ServerName medialib.hickar.space
    ServerAlias www.medialib.hickar.space
    DocumentRoot "/usr/local/apache2/htdocs/"

    ProxyPreserveHost on
    ProxyPass "/" "http://127.0.0.1:8080/"
    ProxyReverse "/" "http://127.0.0.1:8080/"

    ProxyPass "/api" "https://127.0.1:8000/"
    ProxyReverse "/api" "https://127.0.1:8000/"
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin hickar@icloud.com
    ServerName medialib.hickar.space
    ServerAlias www.medialib.hickar.space
    DocumentRoot "/usr/local/apache2/htdocs/"

    ProxyPreserveHost on
    ProxyPass "/" "https://127.0.0.1:8443/"
    ProxyReverse "/" "https://127.0.0.1:8443/"

    ProxyPass "/api" "https://127.0.1:8000/"
    ProxyReverse "/api" "https://127.0.1:8000/"
</VirtualHost>